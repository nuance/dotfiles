[user]
    name = Matt Jones
    email = matt@mhjones.org

[merge]
    summary = true

[color]
    ui = auto

[alias]
    st = status -s
    ci = commit
    ca = commit --amend -a --no-edit
    br = branch -vv
    co = checkout
    df = diff
    lg = log -p
    ds = diff --staged
    up = ! git fetch -n upstream && git rebase upstream/master
    ms = merge --squash
    pr = pull-request -b Pinterest:master
    bpr = pull-request -b blackops:master
    mpr = pull-request -b m10n:master
    push = push -u
    pushed = "! f() { git tag --contains $1 | grep deploy_ | sort | rev | uniq -s17 | rev; }; f "
    changed = ! git diff --diff-filter=ACMRTUX --name-only `git merge-base HEAD upstream/master`
    changed-diff = ! git diff --diff-filter=ACMRTUX `git merge-base HEAD upstream/master`
    pychanged = ! git changed | grep -v thrift | grep -v schemas | grep -v ttypes | egrep '.py$'
    check = "! f() { echo '** pep8 **'; pep8 --show-source --max-line-length=120 $*; echo '** pyflakes **'; pyflakes $*; }; f $(git pychanged)"
    squash = "! git reset --soft `git merge-base HEAD upstream/master`"

    gl = "! git log --graph --pretty=format:\"%C(yellow)%h %C(reset)%s - %C(bold blue)%an %C(red)(%ar)\""
    glm = "! git log --merges --pretty=format:\"    %C(yellow)%h %C(reset)%s - %C(bold blue)%an %C(red)(%ar)%C(reset)\" | grep -v \"Merge branch 'master' into\" | grep -v \"Merge master into\" | less -R"

[push]
    default = current
